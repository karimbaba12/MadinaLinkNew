<mat-drawer-container class="sidebar-container">
    <mat-drawer mode="side" [opened]="sidebarOpened" class="sidebar">
        <mat-nav-list>

            <ng-container *ngFor="let menu of menus">
                <mat-list-item *ngIf="menu.type === 'item'" [routerLink]="menu.url">
                    <mat-icon>{{ menu.icon }}</mat-icon>
                    <span>{{ menu.title }}</span>
                </mat-list-item>

                <a mat-list-item *ngIf="!menu.children" [routerLink]="menu.url" routerLinkActive="active-link">
                    <mat-icon>{{ menu.icon }}</mat-icon>
                    <span>{{ menu.title }}</span>
                </a>

                <!-- Menu with dropdown (children) -->
                <mat-expansion-panel *ngIf="menu.children && menu.children.length > 0" class="menu-group">
                    <mat-expansion-panel-header>
                        <mat-icon>{{ menu.icon }}</mat-icon>
                        <span>{{ menu.title }}</span>
                    </mat-expansion-panel-header>

                    <mat-nav-list>
                        <a mat-list-item *ngFor="let child of menu.children" [routerLink]="child.url"
                            routerLinkActive="active-link">
                            <mat-icon>{{ child.icon }}</mat-icon>
                            <span>{{ child.title }}</span>
                        </a>
                    </mat-nav-list>
                </mat-expansion-panel>
            </ng-container>

        </mat-nav-list>
    </mat-drawer>

    <mat-drawer-content>
        <div class="content-container">
            <ng-content></ng-content>
        </div>
    </mat-drawer-content>
</mat-drawer-container>